#summary todo and bugs
#labels Phase-Design

*Turtle Arena TODO and BUGS*, also see the issue tracker for more, [http://code.google.com/p/turtlearena/issues http://code.google.com/p/turtlearena/issues].

= engine =
== Weapons (and attacking) ==
  * IOQ3ZTM: TODO: Support IMPRESSIVE awards in non-TURTLEARENA TA_WEAPSYS

  * TODO: Add a option to weapon group info to hold a weapon upside-down? (effect rendering and damaging)

  * TODO: Add attack movement flags? Stop, cut speed in half, double speed, turn right?, etc.

  * TODO: Remove code for tag_hand_primary/secondary and just use tag_weapon/flag ?
    * Logic-wise `tag_hand_*` make more sense, but I still support tag_weapon/flag (My players use tag_weapon/flag ...)

  * TODO: Add Bow and Arrow? (Like LoZ:TP)
    * ("Charge up" weapon (and animate player), when fully charged fire projectile (or fire on release weaponFlag?) )
  * TODO: Aiming mode for third-person, camera looks over player's shoulder (Like LoZ:TP)

  * TODO: Add PD_CUSTOM projectile death type
    * pdModel (string), pdShader (string), pdSprite (bool), pdDuration (int), pdLight (int) (vec3), pdExpBase (int), pdExpAdd (int), pdExpOnPlayer (bool)
    * pdExpOnPlayer would set whether or not to explode on players in CG_MissileHitPlayer

  * TODO: Add PT_CUSTOM projectile trail type

  * TODO: Per-weapon run animations (Support `LEGS_*`, `BOTH_*`, and `TORSO_*`)
    * Idea for supporting `TORSO_*`
      * PM_ContinueAnim(run);
      * If (!(animations[run].prefixType & AP_LEGS)) PM_ContinueAnim(LEGS_RUN);

== Single Player ==
  * TODO: True Single Player mode with NPCs and all that.

  * TODO: Finish savegames for single player
    * When starting single player have user pick save slot and/or enter name to set g_saveFilename. (Like SRB2 2.0)
      * (No save option would use "" which defaults to "autosave")

  * TODO: Rewrite single player post-game data saving.
    * Have it be more like in Team Arena then Q3, using ".game" files instead of cvars in config.
    * Or one single data file with all of the sp data (Or SP data files -like SRB2 2.0)

  * TODO: Mouser NPC, or call it 'A Better Mouse Trap' (and/or ABMT)?

  * TODO (STARTED): Have a completed game menu/screen
    * sp_complete and sp_gameover

== Single Player (NiGHTS) ==
  * TODO: Chet into Dreams...  (A boy dreams of his lost turtles.)
    * NiGHTS would replaced with a Ninja Turtle?
    * The level could be set inside an aquarium (With the aquarium at very large scale)
    * Before the dream Chet could be replaying the events of how he lost his turtles
       * Afterword the people around him, and the TCRI truck, could turn into nightmarens. (The truck could turn into the boss)
    * After the dream Chet would see the Turtles outside his window.

== Render ==
  * TODO: Add real-time cel-shading, like Jet Set Redio! (Maybe add other NPR rendering options too?)
    * Maybe NPRQuake could be of some help? it has some cool looking NPR renders.

  * BUG: When there are multiple ghost models they may not be sorted into correct order
    * Requires depth sorting to fix

  * TODO: Add Vertex Buffer Object (VBO) support? (patch is in ioq3 bugzilla, wait till its added in ioq3?)

  * BUG: At the beginning of q3dm0 the portal can be seen though the mirror

== UI ==
  * TODO: Remake UI/HUD using Quake III: Team Arena menu scripting?

  * TODO: Update MISSIONPACK ui? http://svn.icculus.org/quake3/trunk/code/q3_ui/ui_video.c?r1=390&r2=1161

== Teamplay ==
  * TODO: Data: Create team skins for players (for Foot at least)

  * TODO: Data: Update flag skins for new default teams (Red: Foot, Blue: Shell)

  * TODO: Per-team flag skins? (Team icon is on flag skin)
     * Would a shader remap work?

  * TODO: Have a extra team (Needed for mp_ui), such as (Purple) Dragon, Guardian, or something.

== New Entities ==
  * TODO: Add misc_bubbles entity.

  * TODO: Add misc_dripper entity.

== Code Cleanup ==
  * TODO: Reduce overall number of TODOs and FIXMEs in the source

  * TODO: Use or remove BotInventoryWeapon and BotInventoryAmmo?

== Bots ==
  * TODO: Support bots using func_use (use via holdable item button)

== Entities ==
  * TODO: Improve misc object physics. (Use code from Q3Rally? bg_physics.c/h)

  * TODO: Drivable vehicles? (Base on Q3Rally)

== NiGHTS mode ==
  * STARTED (NIGHTSMODE): NiGHTS into Dreams mode

  * TODO: Use different model for player when in NiGHTS mode
    * Maybe instead of NiGHTS use a dragon-form like in TMNT 2003 Season 5, Dragons are sort of like Nightmarens...

  * TODO: NiGHTS HUD mode, check for nights_start to see if level is a NiGHTS level to use NiGHTS HUD.

  * TODO: When player is in bonus time, change blue sphere to golden (change model/skin and icon)

  * Data: TODO: Add models for sphere and star items

  * TODO: Have NiGHTS-like link score plums? or just use floating numbers like quake3?
    * Supported by game, just needs cgame code and graphics.

== Misc ==
  * TODO: Add optional run animations for torso.

  * STARTED (TA_PATHSYS): Finish new path system "g_paths.c" for NPCs
  * TODO: Support path_axis (orbit around ent), base on TR_SINE?

  * TODO (TA_PATHSYS): Modify G_SetupPath to allow starting at either end and in the middle of any path.
    * (If there is a super smash bros. level, we need to be able to spawn players in the middle of path.)

  * TODO: Support models/players/NAME/animsounds.cfg used in STV:Elite Force (SP) (Also used in Jedi Knight 2) ?
    * Started see bg_sound_t and Sounds_Parse; it is similar to animsounds, but different.
    * It currently doesn't load sounds and is for NPC and misc objects only.

  * TODO: New gametypes; Last Man Standing, King of the Hill, and Keepaway? -- Based of there forms in TMNT: Mutant Melee.

  * TODO: Support focusing on 4 players with one camera, for a local 4 player game (splitscreen would be optional).

  * TODO: Make a original character (In case the Ninja Turtles have to be removed at some point)
    * Name the character "Goy"? (Character name ZTurtleMan made up.)
    * NOTE: It turns out Goy is Modern Hebrew for non-Jew / gentile. (Which is pretty generic, which fits the propose of the character.)

  * TODO: Add Jump/Land animations specifically for backflip, fallback to 'Jump/Land B' (jump backward)
    * For jumping backward in lock-on mode, like in LoZ:TP
    * (Should Turtle Arena players just have 'Jump/Land B' be a backflip?)

  * TODO: Improve camera system.
    * DONE: Controls for moving chase cam (left, right, up, down)
    * (NiGHTS: Journey of Dreams) Move camera if holding 'z' and move analog stick, can't look around while moving
    * BETTER(not done?): When moving the camera around the player, focus on the player. (Like in NiGHTS: Journey of Dreams)

  * TODO: STARTED(TURTLEARENA // LOCKON): When attacking a player (or NPC) focus on them?  (Like LoZ:TP 'z' target lock-on)

  * TODO: Merge Quake3 bot chat and Team Arena voice chat systems?
    * base/botfiles/bots/raph_t.c hold the "Q3 bot chats" for non-teamplay (Team-only Team Arena players have dummy files)
    * base/botfiles/teamplay.h holds the "Q3 bot chats" for teamplay
    * base/scripts/male1.voice Team Arena added voice chats that are only used in teamplay (Some are usable by both humans and bots)
    * Have everywhere that starts a "Q3 bot chat" use voice chats instead?
      * (Unless it uses vars and can't be a voice chat, like "whois")
    * TeamPlayIsOn() is used to check if in teamplay for which chats to use and stuff
    * (Turtle Arena allows 64 voice chat files, so we could allow bots to have custom chats)

  * TODO: Allow voicechat filename to be set in animations.cfg

  * TODO: Add MD5 model support
    * MD5 use single model and skeleton
    * The animations can move any part of the model
    * Multiple animations can animate at the same time
  * TODO-after-above: Re-rig and reanimate players in Blender for MD5? (or add MD5 export to MM3D?)

  * TODO: Support using .so, .dll, and .dylib, on pure servers? (Wolf-ET does?)
  * TODO: Have qvms in a separate pk3 and have it be optional.
    * (Debian considers non-free, so don't included in debs)
    * If so/dll/dylib are supported on pure servers is there any reason to included them in any installers?
      * Is there a reason to include in Linux/Win32 zip that comes with so/dll? (For other ports? such as Android/iPhone?)

  * TODO: Allow set splitscreen clients for joinning in Multiplayer Search menu?
    * Allows filtering out servers without enough player slots

  * TODO: Tell which clients are splitscreen players
    * Special icon on HUD?
    * Automaticly name splitscreen players (mainClientName[spilt#]) and don't allow custom names?

  * TODO: Remove say, say_team, and tell for splitscreen clients?

  * TODO: Allow splitscreen in 'single player'? If so, add to q3_ui.

  * Splitview mode for viewing multiple players online
    * Need someway to tell server which clients we want in splitview.
      * Probably a use a command, list clientNums, client names, or teams. (Like "splitview 1 john blue" for three splitview clients)
        * If teams are supported add a command for changing to next team member? Or automaticly cycle through team members?

== Objects ==
Most of the mapobjects should be damageable.

  * TODO: Make more map objects
    * Clump of tall grass (Like in TMNT2: Battle Nexus (GC) level 2 and LoZ:TP)
    * Animated flower bud
    * Trees, bushes, flowers, tall-grasses
    * Traffic barrel, Traffic barricade (single slat and possibly others)
    * Fire hydrant, street light
    * street-signs (one-way, 3rd street, Stop, Yield, people crossing, speed limit)
    * Torch Flame, wall torches, etc
    * Lamps and other light things

== Testing! ==
  * TODO: Test/use the "noise" and "random" waveforms that I copied from IOSTVEF.

  * TODO: Check if "TA_WEAPSYS // BOT_ITEM_INFOS" breaks compatibility with q3 mods.

  * STARTED (TA_HOLDABLE): Make shurikens/holdable-projectiles general like weapons groups.
    * (So they can be totally configured from .weap/.item, and add new ones)

== Don't do? (Dead Ideas?) ==
  * TODO: Feet tags, for attack checking? And/or for attaching hoverboard to player?

  * TODO: Use vertex lighting on misc_model entities? http://xreal.svn.sourceforge.net/viewvc/xreal?view=rev&revision=3049
    * ZTM: I could add a option so use vertex lighting, but normally use lightmapping?
    *   OR Just use misc_object as they use vertex lighting.
    * Misc_model is a way to insert a *static* model, so lightmap like the level.

  * TODO: Have Announcer use "voice chats" so that the text is printed as well as playing a sound.
    * TODO: Add option to disable Announcer voice and/or text
    * TODO: Have Announcer text shown in a comic-style naration box
  * TODO: Allow multiple Announcers? Have a cg_announcer cvar { "none", "male", "female", etc } to control voice chat file.

  * TODO-after-adding-ET_WEAPON: "Weapon Surface flags" so metal rubbing on metal makes sparks and stuff?
    * Guns too? (Running next to a wall and gun is touching wall make sparks and wall marks O.O; )

  * TODO: Throw shurikens with secondary hand, so can't with CTF flag? Have only one attack animation.
  * TODO-after-above: Must put secondary weapon away to throw shuriken, then get it back put?
    * So Don can throw shurikens sooner than Leo/Raph/Mike?

  * TODO: Per-triangle collision for player damage, use lowest LOD model or have a model special for collision?
    * Using a special model for collision we could use group names to set what part of player is hit,
    * so shell takes less damage, banndana tails takes no damage, etc. We could say where a player got hit like Smokin' Guns?...

  * TODO: Lua Scripting for NPCs? http://xreal.svn.sourceforge.net/viewvc/xreal/trunk/xreal/base/code/game/g_lua.c?view=markup

  * TODO: Framebuffer object support? https://bugzilla.icculus.org/show_bug.cgi?id=3422

  * TODO: http://code.google.com/p/oax/wiki/Dynamic_QVM_Memory_Allocation

  * TODO: Word filter http://code.google.com/p/sgfork/source/detail?r=5

== Done? ==
  * DONE?: TA_WEAPSYS weapon_random entity that spawns a random weapon each time the weapon respawns
    * Only spawn weapons with a classname, have flags for melee and gun weapon spawning.
  * TODO: ...also allow list of weapons in message field?

  * WORKING(NotDone?): Have bots use shurikens. (They are used *to much* now.)

= Other =
  * TODO: Make some sort of manual to tell how to play, control the player (using default controls). Have it be simple.

  * TODO: Portable (zip): Add a note (either on the website or in the readme) that removing the "settings/portable" file will make it use the normal user app data directory, i.e. $HOME/.turtlearena

  * TODO: Portable Linux (zip): http://portablelinuxapps.org/
	* Create portable linux app from .deb package
      * http://www.omgubuntu.co.uk/2010/07/distro-agnostic-packaging-making.html
    * TODO: Test Linux Portable Install on Ubuntu 10.04 (Lucid Lynx) 32-bit, OpenSUSE 11.3 (GNOME) 32-bit, and Fedora 12 (GNOME) 32-bit.
      * And add a note to the website 'tested on X'

= Data =
  * DONE: Replace all of the data (that I need) in Demo Quake3's pak0.pk3
    * (It appears that the full version doesn't add data "for the engine", just players, maps, and textures, etc)

  * TODO: Add announcer sound files (That sound like the Gyoji of the Battle Nexus?)

  * TODO: Add models for Daisho weapon group (See [NeededFiles])

  * TODO: Have a intro video (video/intro.roq or ogm) before the menu.

  * TODO: Have shurikens in all multi-player maps? (Having them be part of standard gameplay?)

  * TODO: Get free scenery objects from the Internet. Make most damageable.
    * http://virtualworlds.wikia.com

== Players ==
  * TODO: Add Leo, Don, Mike, and Casey bot chats.

=== Raph ====
  * TODO: Finish animating raph_v9.mm3d

=== Other Turtles ===
  * TODO: Finish Turtle player models
    * After Raph is finished:
    * Reanimate raph_v9.mm3d for each Turtle? (Just a few of the animations...)

=== Casey ====
  * TODO: Remake Casey Jones model


= Misfit Model 3D =
Stuff I'd like to do to the MD3 part of MM3D...

  * BUG: After exporting a md3 player I have to open, touch, and save the upper and head models (with no change) to fix model lighting.

  * TODO: Finish MDR export support for Misfit Model 3D.
    * TODO: Check if Elite Force supports uncompressed MDR models.

  * TODO: MDR import support for Misfit Model 3D.

  * TODO: Export lower LODs of MD3 models (head_1.md3, head_2.md3), and include lower LODs in MDR models
    * Maybe use gts.sourceforge.net to generate lower LODs? The gallery shows its possible. Somehow.

= Website =
Current Location: http://ztm.x10hosting.com/ta/

  * TODO: Upgrade x10hosting?

  * TODO: Get a domain name for Turtle Arena?

  * TODO: Update for Turtle Arena 0.4

  * TODO: Add MediaWiki to website? (and use the same mysql database as phpbb)

= Packaging =
  * TODO: Add more options to the Win32 NSIS installer
	* Allow install path to be set?
	* Allow desktop shortcut to be created?
	* Allow Start Menu shortcuts not be created?
	* Allow Start Menu folder name to be set?