#summary todo and bugs
#labels Phase-Design

*Turtle Arena TODO and BUGS*

= engine =
== Weapons ==
Weapons (and attacking)

  * IOQ3ZTM: TODO: Add Q3 Ammo items to quake3 base_ioq3ztm/scripts/weaponinfo.txt

  * IOQ3ZTM: TODO: Support IMPRESSIVE awards in non-TURTLEARENA TA_WEAPSYS

  * TODO: Have weapons be seperate entities (ET_WEAPON) from the player,
		allowing one rendering function that can be use for all weapons,
		and do collision so that weapons don't go into the wall. (And bounce back if you hit the wall?)
  * TODO-after-above: Add a option to weapon group info to hold a weapon upside-down.

  * TODO: Attack movement flags. Stop, cut speed in half, double speed, turn right?, etc.

  * TODO: Remove code for tag_hand_primary/secondary and just use tag_weapon/flag ?
    * Logic-wise `tag_hand_*` make more sense, but I still support tag_weapon/flag (My players use tag_weapon/flag ...)

  * TODO: Add Bow and Arrow? (Like LoZ:TP) { Camera looks over player's shoulder when in aim mode }
    * ("Charge up" weapon (and animate player), when fully charged fire projectile (or fire on release weaponFlag?) )

  * TODO: Draw the secondary pickup weapon somewhere on the player when single handed

  * TODO: Add PD_CUSTOM projectile death type
    * pdModel (string), pdShader (string), pdSprite (bool), pdDuration (int), pdLight (int) (vec3), pdExpBase (int), pdExpAdd (int), pdExpOnPlayer (bool)
    * pdExpOnPlayer would set whether or not to explode on players in CG_MissileHitPlayer

  * TODO: Add PT_CUSTOM projectile trail type

  * TODO: Per-weapon run animations (Support `LEGS_*` and `BOTH_*`. Should `TORSO_*` be supported too?)

  * TODO: Support `BOTH_*` attacks (not just `TORSO_*`) in ui/q3_ui

== Single Player ==
  * TODO: True Single Player mode with NPCs and all that.

  * TODO: Finish savegames for single player
    * When starting single player have user pick save slot and/or enter name to set g_saveFilename. (Like SRB2 2.0)
      * (No save option would use "" which defaults to "autosave")

  * TODO: Rewrite single player post-game data saving.
    * Have it be more like in Team Arena then Q3, using ".game" files instead of cvars in config.
    * Or one single data file with all of the sp data (Or SP data files -like SRB2 2.0)

  * TODO: Mouser NPC, or call it ABMT? (A Better Mouse Trap)

  * TODO (STARTED): Have a completed game menu/screen (Instead of just dropping the player back to the main menu with no message, it could leaving the player wondering why.)
    * sp_complete and sp_gameover

== Single Player (NiGHTS) ==
  * TODO: Chet into Dreams...  (A boy dreams of his lost turtles.)
    * NiGHTS would replaced with a Ninja Turtle?
    * The level could be set inside an aquarium (With the aquarium at very large scale)
    * Before the dream Chet could be replaying the events of how he lost his turtles
       * Afterword the people around him, and the TCRI truck, could turn into nightmarens. (The truck could turn into the boss)
    * After the dream Chet would see the Turtles outside his window.

== Render ==
  * TODO: Add real-time cel-shading, like Jet Set Redio! (Maybe add other NPR rendering options too?)
    * Maybe NPRQuake could be of some help? it has some cool looking NPR renders.

  * BUG: When there are multiple ghost models they may not be sorted into correct order?

  * TODO: Add Vertex Buffer Object (VBO) support?

== UI ==
  * TODO: Remake UI/HUD using Quake III: Team Arena menu scripting?

  * TODO: Update MISSIONPACK ui? http://svn.icculus.org/quake3/trunk/code/q3_ui/ui_video.c?r1=390&r2=1161

== Teamplay ==
  * TODO: Data: Team skins for players

  * TODO: Per-team flag skins?... (Team icon is on flag skin)
     * Would a shader remap work?

  * TODO: Have Foot be the default red team (Update flag skin)

  * TODO: Have Shell be the default blue team? (Base Shell icon on game icon)

  * TODO: Have a extra team (Needed for mp_ui), like (Purple) Dragon, or Guardian

== New Entities ==
  * TODO: Add misc_bubbles entity.

  * TODO: Add misc_dripper entity.

== Code Cleanup ==
  * TODO: Reduce overall number of TODOs and FIXMEs in the source

  * TODO: Use or remove BotInventoryWeapon and BotInventoryAmmo?

== Bots ==
  * TODO: Support bots using func_use (use via holdable item button)

== Entities ==
  * TODO: Allow func_breakable and misc_object to be pushable.

  * TODO: Improve misc object physics. (Use code from Q3Rally? bg_physics.c/h)

  * TODO: Driveable vehicles? (Base on Q3Rally)

== NiGHTS mode ==
  * STARTED (NIGHTSMODE): NiGHTS into Dreams mode
    * Maybe instead of NiGHTS use a dragon-form like in TMNT 2003 Season 5, Dragons are sort of like Nightmarens...

  * TODO: NiGHTS HUD mode, in check for nights_start to see if level is a NiGHTS level to use NiGHTS HUD.

  * TODO: When player is in bonus time, change blue sphere to golden (change model/skin and icon)

  * Data: TODO: Add models for sphere and star items

  * TODO: Have NiGHTS-like link score plums? or just use floating numbers like quake3?
    * Supported by game, just needs cgame code and graphics.

== Misc ==
  * TODO: Add optional run animations for torso

  * STARTED (TA_PATHSYS): Finish new path system "g_paths.c" for NPCs
  * TODO: Support path_axis (orbit around ent), use TR_SINE?

  * TODO (TA_PATHSYS): Modify G_SetupPath to allow starting at either end and in the middle of any path.
    * (if there is a super smash bros. level, we need to be able to spawn players in the middle of path.)

  * TODO: Support models/players/NAME/animsounds.cfg used in STV:Elite Force (SP) (Also used in Jedi Knight 2) ?
    * Started see bg_sound_t and Sounds_Parse; it is similar to animsounds, but different.
    * It currently doesn't load sounds and is for NPC and misc objects only.

  * TODO: New gametypes; Last Man Standing, King of the Hill, and Keepaway? -- Based of there forms in TMNT: Mutant Melee.

  * TODO: http://code.google.com/p/oax/wiki/Dynamic_QVM_Memory_Allocation

  * TODO: Word filter http://code.google.com/p/sgfork/source/detail?r=5

  * TODO: Support focusing on 4 players with one camera, for a local 4 player game (splitscreen would be optional).

  * TODO: Make a original character (In case the Ninja Turtles have to be removed at some point)

  * TODO: Add Jump/Land animations specificly for backflip, fallback to 'Jump/Land B' (jump backward)
    * For jumping backward in lock-on mode, like in LoZ:TP
    * (Should Turtle Arena players just have 'Jump/Land B' be a backflip?)

  * TODO: Improve camera system.
    * DONE: Controls for moving chase cam (left, right, up, down)
    * (NiGHTS: Journey of Dreams) Move camera if holding 'z' and move analog stick, can't look around while moving
    * BETTER(not done?): When moving the camera around the player, focus on the player. (Like in NiGHTS: Journey of Dreams)

  * TODO: STARTED(TURTLEARENA // LOCKON): When attacking a player (or NPC) focus on them?  (Like LoZ:TP 'z' target lock-on)
    * BUG: When higher then target to focus on it gets all messed up.

  * TODO: Merge Quake3 bot chat and Team Arena voice chat systems?
    * base/botfiles/bots/raph_t.c hold the "Q3 bot chats" for non-teamplay (Team-only Team Arena players have dummy files)
    * base/botfiles/teamplay.h holds the "Q3 bot chats" for teamplay
    * base/scripts/male1.voice Team Arena added voice chats that are only used in teamplay (Some are usable by both humans and bots)
    * Have everywhere that starts a "Q3 bot chat" use voice chats instead?
      * (Unless it uses vars and can't be a voice chat, like "whois")
    * TeamPlayIsOn() is used to check if in teamplay for which chats to use and stuff
    * (Turtle Arena allows 64 voice chat files, so we could allow bots to have custom chats)

  * TODO: Allow voicechat filename to be set in animations.cfg

  * TODO: Add MD5 model support
    * MD5 use single model and skeleton
    * the animations can move any part of the model
    * multiple animations can animate at the same time
  * TODO-after-above: Re-rig and reanimate players in Blender for MD5? (or add MD5 export to MM3D?)

  * FIXME: Turtle Arena uses code from Wolf-ET (GPLv3 or later).
    * I need to change the licensing on the effected files to GPLv3 (or later).
    * Should I change the whole source to GPLv3 (or later)? (and the data too?)
      * If I change the whole source it could cause issues with submitting patches to ioq3 (and more difficult for other q3 mods to use my code?)

  * STARTED (IOQ3ZTM // FONT_REWRITE): Support true type fonts everywhere!
    * Status: client, cgame, and q3_ui now support ttfs everywhere! (but does fully support the old fonts)
    * IOQ3ZTM: FIXME: There seems to be some issues with using old bitmap fonts, like not showing text to Player Setup menu.
    * IOQ3ZTM: TODO: Add support for font1_prop and font2_prop into *_DrawFontStringExt? (code could be cleaner this way?)

  * TODO: Move more when jumping in lock-on mode! (Currently the player doesn't really go anywhere.)

  * TODO: Support using .so and .dll on pure servers? (Wolf-ET does?)

== Objects ==
Most of the mapobjects should be damageable.

  * TODO: Make more mapobjects
    * Clump of tall grass (Like in TMNT2: Battle Nexus (GC) level 2 and LoZ:TP)
    * Animated flower bud
    * Trees, bushes, flowers, tall-grasses,
    * Traffic barrel-thingy? Traffic "saw-horse"-thingy
    * Firehydroant, lightpole,
    * street-signs (one-way, 3rd street, Stop, Yield, people crossing, speed limit)
    * Torch Flame, wall torchs, etc et
    * Lamps and other light things

== Testing! ==
  * TODO: Test/use the "noise" and "random" waveforms that I copied from IOSTVEF

  * TODO: Check if "TA_WEAPSYS // BOT_ITEM_INFOS" breaks compatibility with q3 mods.

  * STARTED (TA_HOLDABLE): Make shurikens/holdable-projectiles general like weapons groups.
    * (So they can be totally configured from .weap, and add new ones)

== Don't do? (Dead Ideas?) ==
  * TODO: Feet tags, for attack checking? And/or for attaching hoverboard to player?

  * TODO: Use vertex lighting on misc_model entities? http://xreal.svn.sourceforge.net/viewvc/xreal?view=rev&revision=3049
    * ZTM: I could add a option so use vertex lighting, but normally use lightmapping?
    *   OR Just use misc_object as they use vertex lighting.
    * Misc_model is a way to insert a *static* model, so lightmap like the level.

  * TODO: Have Announcer use "voice chats" so that the text is printed as well as playing a sound.
    * TODO: Add option to disable Announcer voice and/or text
    * TODO: Have Announcer text shown in a comic-style naration box
  * TODO: Allow multiple Announcers? Have a cg_announcer cvar { "none", "male", "female", etc } to control voice chat file.

  * TODO-after-adding-ET_WEAPON: "Weapon Surface flags" so metal rubbing on metal makes sparks and stuff?
    * Guns too? (Running next to a wall and gun is touching wall make sparks and wall marks O.O; )

  * TODO: Throw shurikens with secondary hand, so can't with CTF flag? Have only one attack animation.
  * TODO-after-above: Must put secondary weapon away to throw shuriken, then get it back put?
    * So Don can throw shurikens sooner than Leo/Raph/Mike?

  * TODO: Per-triangle collision for player damage, use lowest LOD model or have a model special for collision?
    * Using a special model for collision we could use group names to set what part of player is hit,
    * so shell takes less damage, banndana takes no damage, etc. We could say where a player got hit like Smokin' Guns?...

  * TODO: Lua Scripting for NPCs? http://xreal.svn.sourceforge.net/viewvc/xreal/trunk/xreal/base/code/game/g_lua.c?view=markup

  * TODO: Framebuffer object support? https://bugzilla.icculus.org/show_bug.cgi?id=3422

== Done? ==
  * DONE?: TA_WEAPSYS weapon_random entity that spawns a random weapon each time the weapon respawns
    * Only spawn weapons with a classname, have flags for melee and gun weapon spawning.
  * TODO: ...also allow list of weapons in message field?

  * WORKING(NotDone?): Have bots use shurikens. (They are used *to much* now.)

= Other =
  * TODO: Add extra library dlls from NSIS installer to zip install
  * TODO: Add game/cgame/ui so/dll to zip install? (They are included in ioq3 NSIS installer)

  * TODO: Make some sort of manual to tell how to play, control the player (using default controls). Have it be simple.

  * TODO: Portable (zip): Add a note (either on the website or in the readme) that removeing the "settings/portable" file will make it use the normal user app data directory, i.e. $HOME/.turtlearena

  * TODO: Portable Linux (zip): http://portablelinuxapps.org/
	* Create portable linux app from .deb package
      * http://www.omgubuntu.co.uk/2010/07/distro-agnostic-packaging-making.html
    * TODO: Test Linux Portable Install on Ubuntu 10.04 (Lucid Lynx) 32-bit, OpenSUSE 11.3 (GNOME) 32-bit, and Fedora 12 (GNOME) 32-bit.
      * And add a note to the website 'tested on X'

= Master Server =
  * NOTE: dpmaster is a open source master server that should support Turtle Arena


= Data =
  * DONE: Replace all of the data (that I need) in Demo Quake3's pak0.pk3
		(Also it appears that the full version doesn't add data "for the engine",
			just players, maps, and textures, (etc?))

  * TODO: Add announcer sound files (That sound like the Gyoji of the Battle Nexus?)

  * TODO: Add models for Daisho weapon group (See [NeededFiles])

  * TODO: Have a intro video (video/intro.roq or ogm) before the menu.

  * TODO: Have shurikens in all multi-player maps? (Having them be part of standard gameplay?)

  * TODO: Get free scenery objects from the Internet. Make most damageable.
    * http://virtualworlds.wikia.com

== Players ==
  * TODO: Casey really needs to /swing/ the melee weapons.

  * TODO: Set looping in don, raph, mike, and casey mm3d models and re-export

  * TODO: Add Leo, Don, Mike, and Casey bot chats.

  * BUG: After adding ladder animations to players, the animation list in animation.cfg is not right. Need update leo, don, raph, mike, and casey.
    * If changed to use animation keywords, they will be fine.

=== Raph ====
  * TODO: Finish animating raph_v9.mm3d

=== Other Turtles ===
  * TODO: Finish Turtle player models
    * After Raph is finished:
    * Leo/Don/Mike: Finish head (model/skin), reanimate raph_v9.mm3d for Turtle
    * Raph-Mouth `<==>--<==>` (DONE)
    * Leo--Mouth ` -----<==>` (easy to do)
    * Don--Mouth ` -------- ` (DONE?)
    * Mike-Mouth ` ------.' ` (easy to do)

  * TODO: Add a holder onto the back of Don's belt to hold his Bo when it is not in use
    * Similar to the action figures.

=== Casey ====
  * TODO: Finish Casey Jones model mesh
     * Casey's feet look ugly (fix them), and allow the toes to bend.


= Misfit Model 3D =
Stuff I'd like to do to the MD3 part of MM3D...

  * BUG: After exporting a player I have to open, touch, and save the upper and head models (with no change) to fix model lighting.

  * TODO: Finish MDR export support for Misfit Model 3D.
    * TODO: Check if Elite Force supports uncompressed MDR models.

  * TODO: MDR import support for Misfit Model 3D.

  * TODO: Export lower LODs of MD3 models (head_1.md3, head_2.md3), and include lower LODs in MDR models
    * Maybe use gts.sourceforge.net to generate lower LODs? The gallery shows its possible. Somehow.

= Website =
Current Location: http://ztm.x10hosting.com/ta/

  * TODO: Upgrade x10hosting?

  * TODO: Get a domain name for Turtle Arena?

  * TODO: Update for Turtle Arena 0.4

  * TODO: Add a phpbb fourm

  * TODO: Add MediaWiki to website? (and use the same database as phpbb)
