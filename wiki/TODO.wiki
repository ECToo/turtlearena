#summary todo and bugs
#labels Phase-Design

*Turtle Arena TODO and BUGS*

= Roadmap =
== 0.2 ==
First stable playable release.

  * Standalone from Quake III: Arena
  * Bot support (botfiles based on OpenArena)
  * All 4 Turtles (Leo, Don, Raph, and Mike)
  * Melee weapons
  * Reworked weapon system (Only hold 2 weapons, default and a pickup)
  * Hold multiple holdable items
  * Shurikens (holdable items)
  * Maps for all gametypes

== 0.4 ==
Focus on players, map themes, and multiplayer maps

  * Map Themes (textures, models, misc_objects, and maybe music?)
  * Improve player models; each player should have their own animations, etc et
  * Player Abilities
  * Have player models be MDR (Finish Misfit Model 3D MDR exporting)
  * Multiple levels of detail for players and other models
  * Bring back player effect colors?
    * (Like to control Turtle mask color and/or melee trail color?)
  * Add more players (Mirage or 2003 based?); Shredder, Foot, etc
  * Remake UI with missionpack ui scripting?
  * Reduce overall number of TODOs and FIXMEs in the source

== 0.6 ==
Focus on Single Player

  * Enemies for Single Player
  * Single Player Maps
  * Gimmicks
  * Savegames

== 0.8 ==

== 1.0 ==

= engine =
== Weapons ==
Weapons (and attacking)

  * TODO: Add code so that Nunchuk can spin when standing? When not spining have gravity, like MISSIONPACK held CTF flag?

  * STARTED ( TA_WEAPSYS ): TODO: Support Quake III: Team Arena weapon features via weapon scripting

  * TODO: Spawn Ammo items from weaponinfo.txt
    * If I make it so weapon/ammo items are in text files, should I have all items in iteminfo.txt (and `*.item`) too?...

  * TODO: Have weapons be seperate entities (ET_WEAPON) from the player,
		allowing one rendering function that can be use for all weapons,
		and do collision so that weapons don't go into the wall. (And bounce back if you hit the wall?)
  * TODO-after-above: Add a option to weapon group info to hold a weapon upside-down.

  * TODO: Attack movement flags. Stop, cut speed in half, double speed, turn right?, etc.

  * TODO: Remove code for tag_hand_primary/secondary and just use tag_weapon/flag ?
    * Logic-wise `tag_hand_*` make more sense, but I still support tag_weapon/flag (My players use tag_weapon/flag ...)

  * TODO: Add Bow and Arrow? (Like LoZ:TP) { Camera looks over player's shoulder }
    * ("Charge up" weapon (and animate player), when fully charged fire projectile (or fire on release weaponFlag?) )

  * BUG: CreateFuzzyWeight doesn't setup inventory weight correctly, causes SIGBUS in FuzzyWeightUndecided_r

  * TODO: Draw the secondary pickup weapon somewhere on the player when single handed

  * STARTED (TA_HOLDABLE): Make shurikens/holdable-projectiles general like weapons groups.
    * (So they can be totally configured from .weap, and add new ones)

== Single Player ==
  * TODO: True Single Player mode with NPCs and all that.

  * TODO: Lua Scripting for NPCs? http://xreal.svn.sourceforge.net/viewvc/xreal/trunk/xreal/base/code/game/g_lua.c?view=markup

  * TODO: Savegames for single player

  * TODO: Rewrite single player post-game data saving.
    * Have it be more like in Team Arena then Q3, using ".game" files instead of cvars in config.
    * Or one single data file with all of the sp data (Or SP data files -like SRB2 2.0)

== Single Player (NiGHTS) ==
  * TODO: Chet into Dreams...  (A boy dreams of his lost turtles.)
    * NiGHTS would replaced with a Ninja Turtle?
    * The level could be set in side an aquarium (With the aquarium at very large scale)
    * Before the dream Chet could be replaying the events of how he lost his turtles
       * After the people around him, and the TCRI truck, could turn into nightmarens. (The truck could turn into the boss)
    * After the dream Chet would see the Turtles outside his window.

== Render ==
  * TODO: NPRQuake has some awesome rendering options... (If I wanted it to look like a comic book it might help.)

  * TODO: framebuffer object support? https://bugzilla.icculus.org/show_bug.cgi?id=3422

  * TODO: When there are mulitple ghost models they may not be sorted into correct order?

== UI ==
  * TODO: Remake UI/HUD using Quake III: Team Arena menu scripting?

  * TODO: Update MISSIONPACK ui? http://svn.icculus.org/quake3/trunk/code/q3_ui/ui_video.c?r1=390&r2=1161

  * TODO (STARTED): Have a completed game menu/screen (Instead of just dropping the player back to the main menu with no message, it could leaving the player wondering why.)
    * sp_complete and sp_gameover

  * TODO: Mouser NPC, or call it ABMT? (A Better Mouse Trap)

== Teamplay ==
  * TODO: Data: Team skins for players

  * TODO: Per-team flag skins?... (Team icon is on flag skin)

  * TODO: Have Foot be the default red team (Update flag skin)

  * TODO: Have Shell be the default blue team? (Base Shell icon on game icon)

  * TODO: Have a extra team (Needed for mp_ui), like (Purple) Dragon, or Guardian

== Misc ==
  * TODO: Add optional run animations for torso

  * STARTED (TA_PATHSYS): Finish new path system "g_paths.c" for NPCs (and players not in NiGHTS mode?).
  * TODO: Support path_axis (orbit around ent), use TR_SINE?
  * TODO: Make sure players support PATH_LINE

  * TODO: Support models/players/NAME/animsounds.cfg used in STV:Elite Force (SP) (Also used in Jedi Knight 2) ?
    * Started see bg_sound_t and Sounds_Parse; it is similar to animsounds, but different.
    * It currently doesn't load sounds and is for NPC and misc objects only.

  * TODO: Pull grapple back to player before removing entity like LoZ: TP?

  * BUG: When players have PW_FLASHING they can walk though Obelisks/misc_objects.
    * When PW_FLASHING wears off while in a solid, they are killed. Otherwise they would be stuck.

  * TODO: Add misc_bubbles entity.

  * TODO: Add misc_dripper entity.

  * STARTED (NIGHTSMODE): NiGHTS into Dreams mode
    * Maybe instead of NiGHTS use a dragon-form like in TMNT 2003 Season 5, Dragons are sort of like Nightmarens...

  * TODO: New gametypes; Last Man Standing, King of the Hill, and Keepaway? -- Based of there forms in TMNT: Mutant Melee.

  * TODO: http://code.google.com/p/oax/wiki/Dynamic_QVM_Memory_Allocation

  * TODO: Word filter http://code.google.com/p/sgfork/source/detail?r=5

  * TODO: Support focusing on 4 players with one camera, for a local 4 player game (splitscreen would be optional).

  * TODO: Support bots using func_use (use via holdable item button)

  * TODO: Allow func_breakable and misc_object to be pushable.

  * TODO: Add paintarget to func_breakable

  * TODO: Remove metal debris from grate textures

  * TODO: Use or remove BotInventoryWeapon and BotInventoryAmmo?

  * TODO: Improve camera system.
    * DONE: Controls for moving chase cam (left, right, up, down)
    * (NiGHTS: Journey of Dreams) Move camera if holding 'z' and move analog stick, can't look around while moving
    * BETTER(not done?): When moving the camera around the player, focus on the player. (Like in NiGHTS: Journey of Dreams)

  * TODO-BETA: STARTED(TURTLEARENA // LOCKON): When attacking a player (or NPC) focus on them?  (Like LoZ:TP 'z' target lock-on)
    * BUG: When higher then target to focus on it gets all messed up.

  * TODO: Merge Quake3 bot chat and Team Arena voice chat systems?
    * base/botfiles/bots/raph_t.c hold the "Q3 bot chats" for non-teamplay (Team-only Team Arena players have dummy files)
    * base/botfiles/teamplay.h holds the "Q3 bot chats" for teamplay
    * base/scripts/male1.voice Team Arena added voice chats that are only used in teamplay (Some are usable by humans and bots)
    * Have everywhere that starts a "Q3 bot chat" use voice chats instead?
      * (Unless it uses vars and can't be a voice chat, like "whois")
    * TeamPlayIsOn() is used to check if in teamplay for which chats to use and stuff
    * (Turtle Arena allows 64 voice chat files, so we could allow bots to have custom chats)

  * TODO: Set voicechat filename in animations.cfg

  * TODO: Load extra player setting from head.cfg in directory where the headmodel is?
    * Like soundpath and voicechat filename, and maybe in the future head animations

  * TODO: Add MD5 model support
    * MD5 use single model and skeleton
    * the animations can move any part of the model
    * multiple animations can animate at the same time
  * TODO-after-above: Re-rig and reanimate players in Blender for MD5?

== Objects ==
Most of the mapobjects should be damageable.

  * TODO: Make more mapobjects
    * Clump of tall grass (Like in TMNT2: Battle Nexus (GC) level 2 and LoZ:TP)
    * Animated flower bud
    * Trees, bushes, flowers, tall-grasses,
    * Traffic barrel-thingy? Traffic "saw-horse"-thingy
    * Firehydroant, lightpole,
    * street-signs (one-way, 3rd street, Stop, Yield, people crossing, speed limit)

== Testing! ==
  * DONE(untested)?: Melee combo system, with different animations for each attack? (TA_WEAPSYS)

  * TODO: Test/use the "noise" and "random" waveforms that I copied from IOSTVEF

  * TODO: Check if "TA_WEAPSYS // BOT_ITEM_INFOS" breaks compatibility with q3 mods.

== Don't do? (Dead Ideas?) ==
  * TODO: Feet tags, for attack checking? And/or for attaching hoverboard to player?

  * TODO: Use vertex lighting on misc_model entities? http://xreal.svn.sourceforge.net/viewvc/xreal?view=rev&revision=3049
    * ZTM: I could add a option so use vertex lighting, but normally use lightmapping?
    *   OR Just use misc_object as they use vertex lighting.
    * Misc_model is a way to insert a *static* model, so lightmap like the level.

  * WONTFIX?: First Person weapon doesn't draw correctly (It draws too near to the screen)
			This happens due to changing the field of view to 70 (Q3 uses 90)

  * TODO: Have Announcer use "voice chats" so that the text is printed as well as playing a sound.
  * TODO: Allow multiple Announcers? Have a cg_announcer cvar { "none", "male", "female", etc } to control voice chat file.

  * TODO-after-adding-ET_WEAPON: "Weapon Surface flags" so metal rubbing on metal makes sparks and stuff?
    * Guns too? (Running next to a wall and gun is touching wall make sparks and wall marks O.O; )

  * TODO: Throw shurikens with secondary hand, so can't with CTF flag? Have only one attack animation.
  * TODO-after-above: Must put secondary weapon away to throw shuriken, then get it back put?
    * So Don can throw shurikens sooner than Leo/Raph/Mike?

  * TODO: Per-triangle collision for player damage, use lowest LOD model or have a model special for collision?
    * Using a special model for collision we could use group names to set what part of player is hit,
    * so shell takes less damage, banndana takes no damage, etc. We could say where a player got hit like Smokin' Guns?...

  * TODO: Backport TA_WEAPSYS_EX's weapon dropping to TA_WEAPSYS?

  * TODO: Have shurikens do damage while they are in the wall/ground?

== Done? ==
  * DONE?: TA_WEAPSYS weapon_random entity that spawns a random weapon each time the weapon respawns
    * Only spawn weapons with a classname, have flags for melee and gun weapon spawning.
  * TODO: ...also allow list of weapons in message field?

  * DONE-ish?: Use freetype for TTF rendering, instead of q3font.exe's output files of a TTF. (Almost completed in Xreal)
    * Well I no longer need q3font.exe, as copied/fixed the freetype code (Also support in console and hud consoles lines)
    * But most in game text does not support TTF.

  * WORKING(NotDone?): Have bots use shurikens. (They are used *to much* now.)

  * DONE: Have player fade out when dead instead of BodySink
    * Does it look good?


= BSPC =
BSPC is the map .bsp to .aas (Arena Awareness System) compiler. The aas file is used by bots.

  * BUG: Fix compiling with cross-make-mingw.sh


= Master Server =
  * NOTE: dpmaster is a open source master server that should support Turtle Arena


= Data =
  * DONE: Replace all of the data (that I need) in Demo Quake3's pak0.pk3
		(Also it appears that the full version doesn't add data "for the engine",
			just players, maps, and textures, (etc?))

  * TODO: Add announcer sound files (That sound like the Gyoji of the Battle Nexus?)

  * TODO: Add models for Daisho weapon group (See [NeededFiles])

  * TODO: Have a intro video (video/intro.roq or ogm) before the menu.

  * TODO: Have shurikens in all multi-player maps? (Having them be part of standard gameplay?)

== Players ==
  * TODO: Raph and Casey really need to /swing/ the melee weapons.
    * Casey's swinging isn't that bad, but Raph's swinging sure is.

  * TODO: Set looping in leo, don, raph, mike, and casey mm3d models and re-export

=== Raph ====
  * TODO: Finish animating raph_v9.mm3d

=== Casey ====
  * TODO: Finish Casey Jones model mesh
     * Casey's feet look ugly (fix them), and allow the toes to bend.

  * TODO: Add Leo, Don, Mike, and Casey bot chats.


= Misfit Model 3D =
Stuff I'd like to do to the MD3 part of MM3D...

  * BUG: After exporting a player I have to open, touch, and save the upper and head models (with no change) to fix model lighting.

  * TODO: Finish MDR support for Misfit Model 3D.

  * TODO: Export lower LODs of MD3 models (head_1.md3, head_2.md3), and include lower LODs in MDR models
    * Maybe use gts.sourceforge.net to generate lower LODs? The gallery shows its possible. Somehow.

= Website =
Current Location: http://ztm.x10hosting.com/

  * TODO: Find a new host

  * TODO: Get a domain name?

  * TODO (STARTED): Updating website for Turtle Arena 0.4

  * TODO: Add a screenshot to the main page?
    * See 'Note to software creators' at the bottom of http://www.opensourcewindows.org/
